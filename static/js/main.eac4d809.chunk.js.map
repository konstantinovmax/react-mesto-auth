{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","images/header-logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","images/done.svg","images/denied.svg","components/InfoTooltip.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","api","config","this","_url","url","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","name","description","body","JSON","stringify","about","link","id","isNotLiked","putLike","deleteLike","avatarName","avatar","authorization","Header","props","email","userEmail","exact","path","className","isOpen","onClick","onSignOut","src","logo","alt","type","onClose","onOpenMobileMenu","to","Card","currentUser","useContext","isLiked","card","likes","some","i","_id","cardLikeButtonClassName","isOwn","owner","cardDeleteButtonClassName","onCardDelete","onCardClick","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","Footer","ImagePopup","PopupWithForm","action","onSubmit","noValidate","title","children","buttonText","EditProfilePopup","useState","setName","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarInput","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeName","setPlaceName","placeUrl","setPlaceUrl","InfoTooltip","noticeText","noticeImageAlt","accessNotice","successfulAccess","failureAccess","withRouter","password","userData","setUserData","handleChange","evt","prevData","onRegister","autoComplete","onLogin","ProtectedRoute","Component","component","loggedIn","BASE_URL","App","setCards","selectedCard","setSelectedCard","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","isMobileMenuOpen","setIsMobileMenuOpen","setLoggedIn","setAccessNotice","setCurrentUser","setUserEmail","history","useHistory","handleInfoToolTip","closeAllPopups","tokenCheck","token","jwt","localStorage","getItem","catch","err","console","log","data","push","all","getUserInfo","getAllCards","user","Provider","removeItem","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","auth","setItem","window","location","reload","patchChangeAvatar","newUserInfo","patchEditProfile","cardInfo","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eac4d809.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","class Api {\r\n    constructor(config) {\r\n        this._url = config.url;\r\n        this._headers = config.headers;\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при загрузке данных пользователя с сервера');\r\n        });\r\n    }\r\n\r\n    getAllCards() {\r\n        return fetch(`${this._url}cards`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при загрузке карточек с сервера');\r\n        });\r\n    }\r\n\r\n    patchEditProfile({ name, description }) {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: description\r\n            })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при редактировании данных пользователя');\r\n        });\r\n    }\r\n\r\n    postCard({ name, description }) {\r\n        return fetch(`${this._url}cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: description\r\n            })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при добавлении карточки');\r\n        });\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при удалении карточки');\r\n        });\r\n    }\r\n\r\n    putLike(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при попытке поставить лайк');\r\n        });\r\n    }\r\n\r\n    deleteLike(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при попытке убрать лайк');\r\n        });\r\n    }\r\n\r\n    changeLikeCardStatus(id, isNotLiked) {\r\n        if (isNotLiked) {\r\n            return this.putLike(id);\r\n        } else {\r\n            return this.deleteLike(id);\r\n        }\r\n    }\r\n\r\n    patchChangeAvatar({ avatarName }) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: avatarName\r\n            })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject('Произошла ошибка при попытке сменить аватар');\r\n        });\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-16/',\r\n    headers: {\r\n       authorization: '8105b806-1cac-45d8-8567-2a49d509e437',\r\n       'content-type': 'application/JSON',\r\n    },\r\n});\r\n\r\nexport default api;\r\n","export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import React from 'react';\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\nimport logo from '../images/header-logo.svg';\r\n\r\nfunction Header(props) {\r\n    let { email } = props.userEmail;\r\n    \r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/\">\r\n                <div className={`header__user-container-mobile ${props.isOpen && 'header__user-container-mobile_is-open'}`}>\r\n                    <p className=\"header__user-data\">{email}</p>\r\n                    <button className=\"header__logout\" onClick={props.onSignOut}>Выйти</button>\r\n                </div>\r\n                <header className=\"header\">\r\n                    <img className=\"header__logo\" src={logo} alt=\"Логотип сервиса Mesto\" />\r\n                    <div className=\"header__user-container\">\r\n                        <p className=\"header__user-data\">{email}</p>\r\n                        <button className=\"header__logout\" onClick={props.onSignOut}>Выйти</button>\r\n                    </div>\r\n                    <button className=\"header__menu-burger-container\" type=\"button\" onClick={props.isOpen ? props.onClose : props.onOpenMobileMenu}>\r\n                        <span className={`header__menu-burger-button ${props.isOpen && 'header__menu-burger-button_close'}`} />\r\n                    </button>\r\n                </header>\r\n            </Route>\r\n            <Route path=\"/sign-up\">\r\n                <header className=\"header\">\r\n                    <img className=\"header__logo\" src={logo} alt=\"Логотип сервиса Mesto\" />\r\n                    <div className=\"header__user-container header__user-container_not-logged-in\">\r\n                        <Link to=\"/sign-in\" className=\"header__authorization\">Войти</Link>\r\n                    </div>\r\n                </header>\r\n            </Route>\r\n            <Route path=\"/sign-in\">\r\n                <header className=\"header\">\r\n                    <img className=\"header__logo\" src={logo} alt=\"Логотип сервиса Mesto\" />\r\n                    <div className=\"header__user-container header__user-container_not-logged-in\">\r\n                        <Link to=\"/sign-up\" className=\"header__authorization\">Регистрация</Link>\r\n                    </div>\r\n                </header>\r\n            </Route>\r\n        </Switch>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__like-button ${isLiked ? 'element__like-button_active' : 'element__like-button'}`\r\n    );\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete ${isOwn ? 'element__delete_active' : 'element__delete'}`\r\n    );\r\n    \r\n    \r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    } \r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <figure className=\"element\" key={props.card._id}>\r\n                <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick} />\r\n                <img className=\"element__image\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\r\n                <div className=\"element__caption-container\">\r\n                    <h2 className=\"element__caption\">{props.card.name}</h2>\r\n                    <div className=\"element__like-area\">\r\n                        <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\r\n                        <output className=\"element__like-numbers\">{props.card.likes.length}</output>\r\n                    </div>\r\n                </div>\r\n            </figure>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-container\">\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар пользователя\" onClick={props.onEditAvatar} />\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__name-edit\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile} />\r\n                    </div>\r\n                    <p className=\"profile__description\">{currentUser.about}</p>\r\n                </div>           \r\n                <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace} />\r\n            </section>\r\n            <section className=\"elements\">\r\n                { props.cards.map((card) => (\r\n                    <Card \r\n                    card={card}\r\n                    key={card._id}\r\n                    onCardClick={props.onCardClick}\r\n                    onCardLike={props.onCardLike}\r\n                    onCardDelete={props.onCardDelete}\r\n                    />\r\n                ))}\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    return (\r\n        <>\r\n            <div className={`modal modal_type_picture ${props.card.link && 'modal_is-open'}`}>\r\n                <div className=\"modal__container_type-picture\">\r\n                    <button type=\"reset\" className=\"modal__close-button modal__close-button_type-picture\" onClick={props.onClose} />\r\n                    <figure>\r\n                        <img className=\"modal__image\" src={props.card.link} alt={props.card.name} />\r\n                        <figcaption className=\"modal__caption\">{props.card.name}</figcaption>\r\n                    </figure>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {  \r\n    return (\r\n        <>\r\n            <div className={`modal modal_type_${props.name} ${props.isOpen && 'modal_is-open'}`}>\r\n                <form name=\"\" action=\"#\" className={`modal__container modal__container_type_${props.name}`} onSubmit={props.onSubmit} noValidate>\r\n                    <h2 className=\"modal__title\">{props.title}</h2>\r\n                    {props.children}\r\n                    <button type=\"submit\" className=\"modal__save-button\">{props.buttonText || 'Сохранить'}</button>\r\n                    <button type=\"reset\" className=\"modal__close-button\" onClick={props.onClose}></button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            description\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n        isOpen={props.isOpen}\r\n        name=\"edit-profile\"\r\n        title=\"Редактировать профиль\"\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        >\r\n            <input\r\n            id=\"editprofile-name-input\"\r\n            name=\"name\"\r\n            type=\"text\"\r\n            className=\"modal__input modal__input_type_name\"\r\n            value={name || ''}\r\n            onChange={handleChangeName}\r\n            placeholder=\"Введите имя\"\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            required\r\n            />\r\n            <span id=\"name-input-error\" className=\"modal__input-error\"></span>\r\n            <input\r\n            id=\"editprofile-description-input\"\r\n            name=\"description\"\r\n            type=\"text\"\r\n            className=\"modal__input modal__input_type_description\"\r\n            value={description || ''}\r\n            onChange={handleChangeDescription}\r\n            placeholder=\"Введите описание\"\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            required\r\n            />\r\n            <span id=\"description-input-error\" className=\"modal__input-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarInput = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n          avatarName: avatarInput.current.value\r\n        });\r\n    } \r\n\r\n    return (\r\n        <PopupWithForm\r\n        isOpen={props.isOpen}\r\n        name=\"add-avatar\"\r\n        title=\"Обновить аватар\"\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        >\r\n            <input\r\n            ref={avatarInput}\r\n            id=\"editavatar-input\"\r\n            name=\"avatarName\"\r\n            type=\"url\"\r\n            className=\"modal__input modal__input_type_url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            required\r\n            />\r\n            <span id=\"avatar-input-error\" className=\"modal__input-error\" />\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [placeName, setPlaceName] = React.useState('');\r\n    const [placeUrl, setPlaceUrl] = React.useState('');\r\n\r\n    function handlePlaceNameChange(e) { \r\n        setPlaceName(e.target.value) \r\n    }\r\n\r\n    function handlePlaceUrlChange(e) { \r\n        setPlaceUrl(e.target.value) \r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name: placeName,\r\n            description: placeUrl\r\n        });\r\n    } \r\n\r\n    return (\r\n        <PopupWithForm isOpen={props.isOpen} name=\"add-element\" title=\"Новое место\" onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input\r\n            id=\"addplace-name-input\"\r\n            name=\"name\"\r\n            type=\"text\"\r\n            className=\"modal__input modal__input_type_place\"\r\n            value={placeName}\r\n            onChange={handlePlaceNameChange}\r\n            placeholder=\"Название\"\r\n            minLength=\"1\"\r\n            maxLength=\"30\"\r\n            required\r\n            />\r\n            <span id=\"name-input-error\" className=\"modal__input-error\" />\r\n            <input\r\n            id=\"addplace-description-input\"\r\n            name=\"description\"\r\n            type=\"url\"\r\n            className=\"modal__input modal__input_type_url\"\r\n            value={placeUrl}\r\n            onChange={handlePlaceUrlChange}\r\n            placeholder=\"Ссылка на картинку\"\r\n            required\r\n            />\r\n            <span id=\"description-input-error\" className=\"modal__input-error\" />\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","export default __webpack_public_path__ + \"static/media/done.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/denied.df8eddf6.svg\";","import React from 'react';\r\nimport successfulAccess from '../images/done.svg';\r\nimport failureAccess from '../images/denied.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n    const noticeText = {\r\n        success: 'Вы успешно зарегистрировались!',\r\n        fail: 'Что-то пошло не так! Попробуйте ещё раз.'\r\n    }\r\n\r\n    const noticeImageAlt = {\r\n        success: 'Успешно',\r\n        fail: 'Ошибка'\r\n    }\r\n\r\n    return (\r\n        <div className={`modal modal_type_signup-info ${ props.isOpen && 'modal_is-open' }`}>\r\n            <div className=\"modal__container modal__container_type_signup-info\">\r\n                <button\r\n                type=\"reset\"\r\n                className=\"modal__close-button modal__close-button_type-signup-info\"\r\n                onClick={props.onClose}\r\n                />\r\n                <img\r\n                className=\"modal__access-status\"\r\n                src={props.accessNotice ? successfulAccess : failureAccess}\r\n                alt={props.accessNotice ? noticeImageAlt.success : noticeImageAlt.fail}\r\n                />\r\n                <h2 className=\"modal__title\">{props.accessNotice ? noticeText.success : noticeText.fail}</h2>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n    const [userData, setUserData] = React.useState({ email: '', password: '' });\r\n\r\n    function handleChange(evt) {\r\n        const { name, value } = evt.target;\r\n        setUserData((prevData) => ({\r\n            ...prevData,\r\n            [name]: value\r\n        }));\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        const { email, password } = userData;\r\n        props.onRegister(email, password);\r\n    }\r\n\r\n    return (\r\n        <section className=\"authorization\">\r\n            <form className=\"authorization__form\" onSubmit={handleSubmit}>\r\n                <h2 className=\"authorization__title\">Регистрация</h2>\r\n                <input\r\n                id=\"email\"\r\n                name=\"email\"\r\n                className=\"authorization__input\"\r\n                type=\"email\"\r\n                value={userData.email}\r\n                onChange={handleChange}\r\n                placeholder=\"Email\"\r\n                autoComplete=\"off\"\r\n                required\r\n                />\r\n                <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                className=\"authorization__input\"\r\n                type=\"password\"\r\n                value={userData.password}\r\n                onChange={handleChange}\r\n                placeholder=\"Пароль\"\r\n                required\r\n                />\r\n                <button className=\"authorization__submit-button\" type=\"submit\">Зарегистрироваться</button>\r\n                <div className=\"authorization__question-container\">\r\n                    <p className=\"authorization__question-text\">Уже зарегистрированы?</p>\r\n                    <Link to=\"/sign-in\" className=\"authorization__link-to-signin\">Войти</Link>\r\n                </div>\r\n            </form>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n    const [userData, setUserData] = React.useState({ email: '', password: '' });\r\n\r\n    function handleChange(evt) {\r\n        const { name, value } = evt.target;\r\n        setUserData((prevData) => ({\r\n            ...prevData,\r\n            [name]: value\r\n        }));\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        const { email, password } = userData;\r\n        props.onLogin(email, password);\r\n    }\r\n\r\n    return (\r\n        <section className=\"authorization\">\r\n            <form className=\"authorization__form\" onSubmit={handleSubmit}>\r\n                <h2 className=\"authorization__title\">Вход</h2>\r\n                <input\r\n                id=\"input-user-email\"\r\n                name=\"email\"\r\n                className=\"authorization__input\"\r\n                type=\"email\"\r\n                value={userData.email}\r\n                onChange={handleChange}\r\n                placeholder=\"Email\"\r\n                autoComplete=\"off\"\r\n                required\r\n                />\r\n                <input\r\n                id=\"input-user-password\"\r\n                name=\"password\"\r\n                className=\"authorization__input\"\r\n                type=\"password\"\r\n                value={userData.password}\r\n                onChange={handleChange}\r\n                placeholder=\"Пароль\"\r\n                minLength=\"8\"\r\n                maxLength=\"16\"\r\n                required\r\n                />\r\n                <button className=\"authorization__submit-button\" type=\"submit\">Войти</button>\r\n            </form>\r\n        </section>\r\n    );    \r\n}\r\n\r\nexport default withRouter(Login);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return(\r\n        <Route>\r\n            {\r\n                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email, password})\r\n    })\r\n    .then((res) => {\r\n        return res.json();\r\n    })\r\n    .then((res) => {\r\n        return res;\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email, password})\r\n    })\r\n    .then((res => res.json()))\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n    .then(res => res.json())\r\n    .catch((err) => {\r\n        console.log(err);\r\n    });\r\n};\r\n","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api.js';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport InfoTooltip from './InfoTooltip';\nimport Register from './Register';\nimport Login from './Login';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../auth';\n\nfunction App() {\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = React.useState(false);\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [accessNotice, setAccessNotice] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [userEmail, setUserEmail] = React.useState('');\n  const history = useHistory();\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleInfoToolTip() {\n    setIsInfoToolTipOpen(true);\n  }\n\n  function handleMobileMenuOpen() {\n    setIsMobileMenuOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoToolTipOpen(false);\n    setIsMobileMenuOpen(false);\n    setSelectedCard({});\n  }\n\n  function refreshPage() {\n    window.location.reload();\n  }\n\n  function handleUpdateUser(newUserInfo) {\n    api.patchEditProfile(newUserInfo)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(avatarName) {\n    api.patchChangeAvatar(avatarName)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(cardInfo) {\n    api.postCard(cardInfo)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n          console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    const isOwn = card.owner._id === currentUser._id;\n    api.deleteCard(card._id, isOwn)\n      .then(() => {\n          const newCards = cards.filter((c) => card._id !== c._id);\n          setCards(newCards);\n      })\n      .catch((err) => {\n          console.log(err);\n      });\n  }\n\n  function handleRegistration(email, password) {\n    auth.register(email, password)\n      .then((res) => {\n        if (res.data) {\n          setAccessNotice(true);\n          handleInfoToolTip();\n          history.push('./sign-in');\n        } else {\n          setAccessNotice(false);\n          handleInfoToolTip();\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleLogin(email, password) {\n    auth.authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem('jwt', res.token);\n          setUserEmail(userEmail);\n          setLoggedIn(true);\n          refreshPage();\n          history.push('/');\n        } else {\n          setAccessNotice(false);\n          handleInfoToolTip();\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n    \n    if (jwt) {\n      auth.getContent(jwt)\n        .then((res) => {\n          if (res) {\n            const userEmail = {\n              email: res.data.email\n            }\n            setUserEmail(userEmail);\n            setLoggedIn(true);\n            history.push('/');\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      } else {\n        return;\n      }\n  }\n\n  function handleLogout() {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n\n  React.useEffect(() => {\n    tokenCheck(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getAllCards()])\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n\n   return (\n    <>\n      <div className=\"root\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <div className=\"root__content\">\n            <Header\n            userEmail={userEmail}\n            onSignOut={handleLogout}\n            onOpenMobileMenu={handleMobileMenuOpen}\n            isOpen={isMobileMenuOpen}\n            onClose={closeAllPopups}\n            />\n            <Switch>\n              <ProtectedRoute\n                exact path='/'\n                loggedIn={loggedIn}\n                component={Main}\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n                cards={cards}\n              />\n              <Route path='/sign-up'>\n                <Register\n                onRegister={handleRegistration}\n                />\n              </Route>\n              <Route path='/sign-in'>\n                <Login\n                onLogin={handleLogin}\n                />\n              </Route>\n              <Route path=\"*\">\n                {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n              </Route>\n            </Switch>\n            <Footer />\n            <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            />\n            <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            />\n            <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups} \n            onAddPlace={handleAddPlaceSubmit}\n            />\n            <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n            />\n            <InfoTooltip\n            isOpen={isInfoToolTipOpen}\n            onClose={closeAllPopups}\n            accessNotice={accessNotice}\n            />\n          </div>\n        </CurrentUserContext.Provider>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}